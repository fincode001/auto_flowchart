# 업무 흐름 자동 플로우차트 생성기

## 소개

업무 흐름 자동 플로우차트 생성기는 텍스트 형태의 업무 설명을 시각적인 플로우차트로 자동 변환해주는 도구입니다. 텍스트로 입력만 하면 다양한 형태(플로우차트, 마인드맵, 피쉬본 다이어그램)의 시각 자료를 생성하고 여러 형식(PNG, Word 문서)으로 내보낼 수 있습니다.

## 주요 기능

### 입력 기능
- 플로우차트 제목 설정
- 업무 설명 텍스트 입력
- 계층적 번호 부여 시스템 (대분류 [1], 중분류 {1), 소분류 ①)

### 시각화 기능
- 기본 플로우차트 생성
- 마인드맵 형태로 변환
- 피쉬본 다이어그램으로 변환
- 라벨 및 색상 자동 구분

### 출력 기능
- PNG 이미지 내보내기
- Word 문서 내보내기
- 프로젝트 저장 및 불러오기

### 사용자 인터페이스
- 직관적인 버튼과 메뉴
- 다크 모드/라이트 모드 지원
- 편집 모드 제공

## 사용 방법

1. **플로우차트 제목 입력**
   - 상단의 입력 필드에 플로우차트 제목을 입력합니다.

2. **업무 설명 입력**
   - 텍스트 영역에 업무 프로세스를 단계별로 입력합니다.
   - 각 단계는 새 줄로 구분합니다.
   - 왼쪽의 버튼을 사용하여 계층 구조(대분류, 중분류, 소분류)를 표시할 수 있습니다.

3. **플로우차트 생성**
   - '플로우차트 생성' 버튼을 클릭하여 시각화합니다.

4. **차트 유형 선택**
   - 드롭다운 메뉴에서 원하는 차트 유형(플로우차트, 마인드맵, 피쉬본)을 선택합니다.

5. **내보내기 형식 선택**
   - PNG 이미지 또는 Word 문서 형식으로 내보낼 수 있습니다.
   - '이미지로 내보내기' 버튼을 클릭하여 선택한 형식으로 저장합니다.

6. **프로젝트 관리**
   - '저장하기' 버튼을 클릭하여 현재 프로젝트를 저장합니다.
   - 저장된 프로젝트는 왼쪽 사이드바에서 불러올 수 있습니다.
   - 저장 경로는 설정에서 변경할 수 있습니다.

## 활용 예시

### 비즈니스 프로세스 문서화
```
[1] 견적 요청 접수
{1) 고객 정보 확인
① 연락처 확인
② 요구사항 정리
{2) 견적서 작성
① 비용 산정
② 서비스 항목 정리
[2] 견적서 제출
{1) 고객 확인
{2) 계약 진행
[3] 서비스 제공
```

### 제품 개발 프로세스
```
[1] 제품 기획
{1) 시장 조사
{2) 요구사항 정의
[2] 제품 설계
{1) 기능 명세서 작성
① 핵심 기능 정의
② 부가 기능 정의
{2) UI/UX 설계
[3] 개발 및 테스트
{1) 프로토타입 개발
{2) 품질 테스트
[4] 출시 및 피드백
```

## 출력 형식

### 플로우차트 기본 형식
- 단계별 순차적 흐름을 시각화
- 계층 구조를 색상과 크기로 구분
- 연결선을 통한 흐름 표현

### 마인드맵 형식
- 중심 주제에서 방사형으로 확장
- 관련 아이디어 간의 연결 시각화
- 계층 구조를 보존하며 시각적으로 표현

### 피쉬본 다이어그램 형식
- 결과(목표)와 원인(과정) 관계 시각화
- 대분류를 주요 가지로 표현
- 중분류, 소분류를 세부 가지로 표현

## 시스템 요구사항

- 웹 브라우저 (Chrome, Firefox, Safari, Edge 최신 버전 권장)
- JavaScript 활성화
- 최소 화면 해상도: 1024 x 768

정규 표현식 오류를 수정했습니다! 세 가지 문제를 해결했습니다:

matchAll 메서드 사용 부분에서 오류가 발생했습니다. 이를 전통적인 정규식 실행 방식으로 변경했습니다.
중괄호 {} 문자가 정규식에서 특별한 의미를 가지므로 이스케이프 처리가 필요했습니다. \\{와 \\}로 수정했습니다.
원형 숫자 범위 표현식 ([①-⑳])이 문제가 될 수 있어 명시적으로 모든 원형 숫자를 나열했습니다.

이제 플로우차트 생성기가 정상적으로 작동할 것입니다. 구체적인 변경사항은 다음과 같습니다:

대분류 번호 ([1]) 삽입 기능 수정
중분류 번호 ({1)) 삽입 기능 수정
소분류 번호 (①) 삽입 기능 수정
템플릿 리터럴 내에서 변수 사용 방식 개선

새로운 기능들을 요약하자면:

플로우차트 제목 입력란 추가
왼쪽에 번호 체계 버튼 추가 (대분류 [1], 중분류 {1), 소분류 ①)
자동 넘버링 기능 구현 (이전에 사용한 번호를 찾아 다음 번호 자동 부여)
텍스트에서 번호 패턴을 인식하여 플로우차트에 표시
플로우차트에 번호 라벨 추가

onClick={() => setShowSettings(false)} 부분에서 괄호가 닫히지 않아 발생한 구문 오류를 수정했습니다.
설정 패널의 나머지 부분(저장 경로 설정, 다크 모드 토글 등)을 추가했습니다.

이제 플로우차트 생성기가 정상적으로 작동할 것입니다. 업무 흐름을 입력하고 좌측 버튼을 사용하여 대분류([1]), 중분류({1)), 소분류(①) 등의 구분 기호를 삽입할 수 있습니다.
 이러한 구분 기호는 자동으로 플로우차트에 표시되어 업무 흐름의 계층 구조를 시각적으로 나타냅니다.

## 추가 기능 계획

향후 업데이트에서는 다음과 같은 기능이 추가될 예정입니다:

1. 실시간 협업 기능
2. 더 다양한 차트 유형 지원 (간트 차트, 조직도 등)
3. 추가 내보내기 형식 (PDF, Excel, PowerPoint)
4. 드래그 앤 드롭 기반 직접 편집 기능
5. 템플릿 라이브러리

onClick={() => setShowSettings(false)} 부분에서 괄호가 닫히지 않아 발생한 구문 오류를 수정했습니다.
설정 패널의 나머지 부분(저장 경로 설정, 다크 모드 토글 등)을 추가했습니다.

추가된 주요 기능은 다음과 같습니다:

다양한 차트 유형 선택 기능

기본 플로우차트
마인드맵 (중심 주제에서 방사형으로 확장되는 형태)
피쉬본 다이어그램 (원인-결과 관계를 시각화하는 형태)


다양한 내보내기 형식

PNG 이미지
Word 문서 (.doc 형식)


UI 개선

차트 유형 선택 드롭다운 메뉴
내보내기 형식 선택 드롭다운 메뉴



생성된 Word 문서에는 다음 내용이 포함됩니다:

프로젝트 제목
생성된 다이어그램 이미지
각 단계별 텍스트 설명
사용 설명서와 예시

제작한 파일 정리

메인 코드 파일: flowchart-generator.js

완성된 React 컴포넌트 파일입니다.
이 파일이 전체 프로그램의 최종본입니다.
플로우차트, 마인드맵, 피쉬본 다이어그램 모두 이 파일에서 구현되어 있습니다.


문서 파일: flowchart-generator-word.md

프로그램 사용 설명서로 Word 형식으로 변환 가능한 마크다운 파일입니다.
프로그램의 기능 설명과 사용법이 포함되어 있습니다.



사용 방법

flowchart-generator.js 파일을 React 프로젝트에 추가합니다.
필요한 종속성(React, Lucide 아이콘 등)을 설치합니다.
실행 후 다음과 같은 기능을 사용할 수 있습니다:

텍스트 입력으로 플로우차트 생성
차트 유형 선택(플로우차트, 마인드맵, 피쉬본)
내보내기 형식 선택(PNG, Word 문서)


오류를 확인했습니다. 플로우차트 생성기 코드의 상태 관리 부분에서 문법 오류가 있었습니다. 이제 코드를 수정했습니다.
추가로 전체 코드를 검토하여 다른 오류가 있는지 확인하겠습니다. exportFormat 상태 변수를 상태 관리 섹션이 아닌 함수 중간에 선언했던 것이 문제였습니다. 상태 변수는 항상 컴포넌트 함수의 시작 부분에서 다른 상태 변수들과 함께 선언해야 합니다.
문제를 해결하기 위해:

exportFormat 상태 선언을 다른 상태 변수들과 함께 컴포넌트 시작 부분으로 이동했습니다.
불필요한 코드 중복을 방지하기 위해 코드를 검토했습니다.

이제 플로우차트 생성기가 정상적으로 작동할 것입니다. 원하시는 대로 플로우차트, 마인드맵, 피쉬본 다이어그램을 생성하고 PNG 또는 Word 문서로 내보낼 수 있습니다.

닫히지 않은 <button> 태그 수정
flowchartData.steps가 없을 때를 대비한 조건부 렌더링 추가
모든 함수 및 컴포넌트가 올바르게 정의되었는지 확인

이제 플로우차트 생성기가 다음 기능을 제공합니다:

텍스트 입력에 따른 플로우차트 자동 생성
마인드맵, 피쉬본 다이어그램 등 다양한 차트 타입 지원
PNG 이미지 및 Word 문서(.doc) 형식으로 내보내기
다크 모드/라이트 모드 지원
계층적 번호 체계(대분류, 중분류, 소분류) 지원

사용자가 업무 흐름을 입력하고 차트 유형을 선택한 다음, 원하는 형식으로 내보낼 수 있습니다. 이 도구를 통해 복잡한 업무 프로세스를 시각적으로 표현하고 공유할 수 있습니다.

프로세스를 핵심단어 중심으로 정리

텍스트를 파싱할 때 핵심 단어를 추출하여 표시하는 기능을 추가할 수 있습니다.
긴 문장에서 주요 키워드만 추출하여 플로우차트에 표시하도록 수정할 수 있습니다.


프로세스 박스 크기 조정

현재 박스 크기를 확대하고, 텍스트가 들어갈 수 있는 최대 공간을 늘릴 수 있습니다.
텍스트 길이에 따라 박스 크기를 동적으로 조절하는 기능을 추가할 수 있습니다.


자동 번호 부여 기능

번호가 없는 항목에 자동으로 번호를 부여하는 로직을 추가할 수 있습니다.
부모-자식 관계를 파악하여 계층적 번호 체계를 자동으로 구성할 수 있습니다.


화면상 프로세스 수정 방법

현재는 편집 모드 버튼이 있지만 기능이 완전히 구현되어 있지 않습니다.
다음과 같은 방식으로 수정 기능을 구현할 수 있습니다:

노드 클릭 시 편집 가능한 팝업 표시
드래그 앤 드롭으로 노드 위치 변경
연결선 추가/삭제 기능
노드 추가/삭제 버튼

개선된 주요 기능:

핵심 단어 중심 정리

업무 설명에서 핵심 키워드를 추출하여 플로우차트에 표시합니다.
원본 텍스트는 저장되어 편집 시 참조할 수 있습니다.


프로세스 박스 크기 확대

모든 노드 크기를 확대하여 더 많은 텍스트가 표시되도록 수정했습니다.
텍스트에 맞게 줄 바꿈 처리가 개선되었습니다.


자동 번호 부여

번호가 없는 항목에는 자동으로 대분류, 중분류, 소분류 번호가 부여됩니다.
내용에 따라 노드 타입(판단, 처리 등)이 자동으로 감지됩니다.


화면상 프로세스 수정 기능

편집 모드에서 노드를 클릭하여 내용 수정이 가능합니다.
노드 타입 변경(사각형/마름모/타원형) 기능이 추가되었습니다.
드래그 앤 드롭으로 노드 위치 변경이 가능합니다.
노드 추가 및 삭제 기능이 구현되었습니다.


표준 플로우차트 기호 적용

처리 단계는 사각형, 판단 단계는 마름모, 시작/종료는 타원형으로 표시됩니다.
각 노드 타입별로 색상 구분이 개선되었습니다.


UX 개선

사용 가이드가 추가되어 사용자가 쉽게 기능을 파악할 수 있습니다.
노드 편집 모달이 추가되어 직관적인 수정이 가능합니다.
연결선이 곡선으로 개선되어 가독성이 향상되었습니다.



이제 사용자는 더 직관적으로 플로우차트를 생성하고 편집할 수 있습니다. 
특히 텍스트 입력에서 자동으로 핵심 단어를 추출하여 표시하므로 복잡한 업무 설명도 간결하게 시각화됩니다. 
또한 화면에서 직접 노드를 수정하고 위치를 조정할 수 있어 사용자의 의도에 맞게 플로우차트를 완성할 수 있습니다.

코드에서 발생한 오류를 수정했습니다. 문제는 상태 관리 부분과 useEffect 종속성에 있었습니다:

먼저 상태 변수들을 모두 하나의 블록으로 정리했습니다. 이렇게 하면 useState 호출이 여러 곳에 분산되지 않아 오류 가능성이 줄어듭니다.
또한 useEffect에서 종속성 배열에 renderFlowchart 함수를 직접 참조하는 부분도 수정했습니다. 이 함수는 컴포넌트가 리렌더링될 때마다 새로 생성되므로 무한 루프가 발생할 수 있습니다.
handleChartTypeChange 함수에서 직접 renderFlowchart를 호출하는 대신, useEffect의 종속성 배열에 chartType을 포함시켜 타입이 변경될 때 자동으로 렌더링되도록 했습니다.

이제 플로우차트 생성기가 정상적으로 작동할 것입니다. 업무 설명을 입력하고 플로우차트를 생성한 후, 편집 모드를 활성화하면 노드를 클릭하여 편집하거나 드래그하여 위치를 조정할 수 있습니다.

구현한 기능:

마우스 오버 감지: 캔버스 위에서 마우스를 움직일 때 노드 위에 있는지 감지합니다.
말풍선 표시: 노드 위에 마우스를 올리면 해당 노드의 원문 내용이 담긴 말풍선이 표시됩니다.
시각적 스타일링: 말풍선은 다크 모드를 지원하며 현재 테마에 맞게 스타일이 적용됩니다.
위치 최적화: 말풍선은 마우스 커서 근처에 표시되어 사용자가 쉽게 확인할 수 있습니다.

또한 코드 구조도 개선했습니다:

캔버스 업데이트를 위한 useEffect 추가
마우스 이벤트 핸들러 개선 (편집 모드일 때와 아닐 때 다른 동작)
말풍선 컴포넌트 추가 및 스타일링

노드 편집 시 안전 처리:

select 태그의 value 속성에서 기본값을 추가하여 editingNode.type이 undefined인 경우에도 오류가 발생하지 않도록 했습니다(value={editingNode.type || 'process'}).


노드 데이터 복사본 생성:

원본 노드 데이터를 직접 참조하는 대신 복사본을 생성하여 작업합니다(setEditingNode({...clickedNode})).
이렇게 하면 원본 데이터가 우발적으로 변경되는 것을 방지할 수 있습니다.



이제 플로우차트 생성기에서 노드를 클릭하여 편집할 때 오류가 발생하지 않을 것입니다. 또한 말풍선 기능도 정상적으로 작동하여 노드 위에 마우스를 올리면 원문 내용이 표시됩니다.

null/undefined 체크 강화:

모든 객체와 속성에 대해 null/undefined 체크를 추가했습니다.
flowchartData.steps가 존재하는지 확인합니다.
각 step 객체가 유효한지 확인합니다.
position과 type 속성이 있는지 확인합니다.


기본값 제공:

편집 시 텍스트가 없는 경우 빈 문자열('')을 기본값으로 설정했습니다.
위치 좌표에 대해 기본값 0을 설정했습니다.


말풍선 개선:

말풍선에 라벨 정보도 표시하도록 추가했습니다.
이제 사용자는 핵심 단어뿐만 아니라 해당 항목의 분류 번호도 확인할 수 있습니다.

모든 데이터 존재 여부 확인:

모든 함수에서 data, data.steps, step, step.position, step.type, step.text 등이 존재하는지 확인합니다.
배열이 기대한 형태인지 확인합니다.


안전한 속성 접근:

객체의 속성에 접근하기 전에 해당 객체가 존재하는지 확인합니다.
필요한 경우 로컬 변수로 복사하여 사용합니다.


기본값 제공:

getNodeColor 함수에 type이 없는 경우에 대한 처리를 추가했습니다.
모든 텍스트 내용 사용 전 존재 여부를 확인합니다.


렌더링 함수 강화:

모든 렌더링 함수에 데이터 유효성 검증을 추가했습니다.
canvas context가 제대로 획득되었는지 확인합니다.

노드 편집 폼 강화:

defaultValue 속성을 추가하여 select 요소에 기본값이 항상 설정되도록 했습니다.
이렇게 하면 type 속성이 없더라도 UI가 제대로, 표시됩니다.


노드 편집 확인 로직 개선:

편집된 노드의 타입이 없는 경우 기본값 'process'를 사용하도록 했습니다.
명시적으로 nodeType 변수를 생성하여 안전하게 참조합니다.


새 노드 추가 로직 강화:

모든 배열과 객체가 존재하는지 철저히 확인합니다.
노드 타입도 기본값이 항상 존재하도록 보장합니다.
위치 계산 시 기존 노드 정보가 없을 경우를 대비한 안전장치를 추가했습니다.



이러한 철저한 방어적 프로그래밍을 통해 예상치 못한 데이터 상태에서도 프로그램이 안정적으로 동작하도록 했습니다. 이제 더 이상 type 속성과 관련된 오류가 발생하지 않을 것입니다.
계속해서 문제가 발생한다면, 디버깅 코드를 추가하여 정확한 오류 위치를 파악할 수 있도록 하겠습니다.

## 기술 지원

문제가 발생하거나 기능 요청이 있는 경우 다음 연락처로 문의하세요:
- 이메일: support@flowchart-generator.com
- 웹사이트: www.flowchart-generator.com/support

---

© 2025 업무 흐름 자동 플로우차트 생성기 | 버전 1.0.0